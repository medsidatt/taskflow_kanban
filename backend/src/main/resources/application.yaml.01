spring:
  application:
    name: TaskFlow Kanban Backend

  datasource:
    url: jdbc:postgresql://localhost:5432/taskflow
    username: postgres
    password: root

  jpa:
    hibernate:
      # Let Flyway manage the schema, Hibernate should only validate it
      ddl-auto: validate
    properties:
      hibernate:
        # Optional: format SQL for better readability
        format_sql: true
    show-sql: false # Set to true for debugging

  # Flyway Configuration
  flyway:
    enabled: true
    # Location of migration scripts
    locations: classpath:db/migration
    # Allow Flyway to clean the database (WARNING: Data loss!)
    clean-disabled: false
    # Automatically clean the schema if validation fails (Great for dev, dangerous for prod)
    clean-on-validation-error: true

# SpringDoc OpenAPI Configuration
springdoc:
  # This will automatically find and serve the openapi.yaml-01 file
  # if it's named openapi.yaml-01 and located in /resources/static
  # The UI will be available at /swagger-ui.html (relative to context path)
  api-docs:
    enabled: true
    path: /api-docs

jwt:
  secret: ${JWT_SECRET:Z3V3ZWxjb2RlczEyMzQ1Njc4OTAxMjM0NTY3ODkwMTIzNA==}
  expiration: 900000 # 15 minutes
  refresh-expiration: 604800000 # 7 days

server:
  port: 8081
  servlet:
    context-path: /api

